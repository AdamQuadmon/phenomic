{"head":{"title":"How to use Collections in Phenomic","incomplete":true,"description":"By default, Phenomic provides 2 things to help you work with collections: it creates a file that contains all page metadata in a uniqueâ€¦"},"body":"<p>By default, Phenomic provides 2 things to help you work with collections:</p>\n<ul>\n<li>it creates a file that contains all page metadata in a unique collection,</li>\n<li>it provides a helper that helps you filter/sort/limit the collection.</li>\n</ul>\n<h2 id=\"collection-file\"><a href=\"#collection-file\"></a>Collection file</h2>\n<p>Here is a simple collection example; note that the metadata defines the\nadditional fields <code>__filename</code> &#x26; <code>__url</code>.</p>\n<pre><code class=\"language-json\">[\n  {\n    \"__filename\": \"index.md\",\n    \"__url\": \"/\",\n    \"title\": \"Awesome Website\"\n  },\n  {\n    \"__filename\": \"blog/index.md\",\n    \"__url\": \"/blog/\",\n    \"title\": \"Awesome blog\"\n  },\n  {\n    \"__filename\": \"blog/halloween.md\",\n    \"__url\": \"/blog/halloween/\",\n    \"title\": \"Awesome Halloween blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-10-31\"\n  },\n  {\n    \"__filename\": \"blog/xmas.md\",\n    \"__url\": \"/blog/xmas/\",\n    \"title\": \"Awesome Christmas blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-12-25\"\n  },\n]\n</code></pre>\n<p>As you can see, this file contains all pages, indexes and posts.</p>\n<p>The easiest way to get some data is to use the Phenomic helper:</p>\n<pre><code class=\"language-js\">// es6\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\n// es5\nvar enhanceCollection = require(\"phenomic/lib/enhance-collection\").default\n</code></pre>\n<p>With it, you can easily filter some pages anywhere in your components:</p>\n<pre><code class=\"language-js\">enhanceCollection(collection, {\n  filter: { layout: \"Post\" },\n  sort: \"date\",\n  reverse: true,\n  // limit: 1,\n})\n</code></pre>\n<p>So, where does this collection come from? Here is an example of a component\nthat will display posts, sorted by date, and other pages (that are not a post)\nin a second list. You will see that the collection is retrieved from\n<a href=\"https://facebook.github.io/react/docs/context.html\">the context</a>.</p>\n<pre><code class=\"language-js\">import React, { Component, PropTypes } from \"react\"\n\nimport Page from \"Page\"\n\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\nexport default class Collection extends Component {\n\n  static propTypes = {\n    head: PropTypes.object.isRequired,\n    body: PropTypes.string.isRequired,\n  };\n\n  static contextTypes = {\n    collection: PropTypes.array,\n  };\n\n  render() {\n    const {\n      collection,\n    } = this.context\n    return (\n      &#x3C;div>\n        &#x3C;Page { ...this.props } />\n        {\n          Boolean(!collection || !collection.length) &#x26;&#x26;\n          &#x3C;div>\n            { \"No entry\" }\n          &#x3C;/div>\n        }\n        {\n          Boolean(collection &#x26;&#x26; collection.length) &#x26;&#x26;\n          &#x3C;div>\n            { \"Posts (by date)\" }\n            &#x3C;ul>\n            {\n              enhanceCollection(collection, {\n                filter: { layout: \"Post\" },\n                sort: \"date\",\n                reverse: true,\n                // limit: 1,\n              })\n              .map((item) => {\n                return (\n                  &#x3C;li key={ item.__url }>\n                    &#x3C;a href={ item.__url }>\n                      { item.title }\n                    &#x3C;/a>\n                  &#x3C;/li>\n                )\n              })\n            }\n            &#x3C;/ul>\n\n            { \"Other pages\" }\n            &#x3C;ul>\n            {\n              enhanceCollection(collection, {\n                filter: ({ layout }) => layout !== \"Post\",\n                sort: \"title\",\n              })\n              .map((item) => {\n                return (\n                  &#x3C;li key={ item.__url }>\n                    &#x3C;a href={ item.__url }>\n                      { item.title }\n                    &#x3C;/a>\n                  &#x3C;/li>\n                )\n              })\n            }\n            &#x3C;/ul>\n          &#x3C;/div>\n        }\n      &#x3C;/div>\n    )\n  }\n}\n</code></pre>\n","rawBody":"\nBy default, Phenomic provides 2 things to help you work with collections:\n\n- it creates a file that contains all page metadata in a unique collection,\n- it provides a helper that helps you filter/sort/limit the collection.\n\n## Collection file\n\nHere is a simple collection example; note that the metadata defines the\nadditional fields `__filename` & `__url`.\n\n```json\n[\n  {\n    \"__filename\": \"index.md\",\n    \"__url\": \"/\",\n    \"title\": \"Awesome Website\"\n  },\n  {\n    \"__filename\": \"blog/index.md\",\n    \"__url\": \"/blog/\",\n    \"title\": \"Awesome blog\"\n  },\n  {\n    \"__filename\": \"blog/halloween.md\",\n    \"__url\": \"/blog/halloween/\",\n    \"title\": \"Awesome Halloween blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-10-31\"\n  },\n  {\n    \"__filename\": \"blog/xmas.md\",\n    \"__url\": \"/blog/xmas/\",\n    \"title\": \"Awesome Christmas blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-12-25\"\n  },\n]\n```\n\nAs you can see, this file contains all pages, indexes and posts.\n\nThe easiest way to get some data is to use the Phenomic helper:\n\n```js\n// es6\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\n// es5\nvar enhanceCollection = require(\"phenomic/lib/enhance-collection\").default\n```\n\nWith it, you can easily filter some pages anywhere in your components:\n\n```js\nenhanceCollection(collection, {\n  filter: { layout: \"Post\" },\n  sort: \"date\",\n  reverse: true,\n  // limit: 1,\n})\n```\n\nSo, where does this collection come from? Here is an example of a component\nthat will display posts, sorted by date, and other pages (that are not a post)\nin a second list. You will see that the collection is retrieved from\n[the context](https://facebook.github.io/react/docs/context.html).\n\n```js\nimport React, { Component, PropTypes } from \"react\"\n\nimport Page from \"Page\"\n\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\nexport default class Collection extends Component {\n\n  static propTypes = {\n    head: PropTypes.object.isRequired,\n    body: PropTypes.string.isRequired,\n  };\n\n  static contextTypes = {\n    collection: PropTypes.array,\n  };\n\n  render() {\n    const {\n      collection,\n    } = this.context\n    return (\n      <div>\n        <Page { ...this.props } />\n        {\n          Boolean(!collection || !collection.length) &&\n          <div>\n            { \"No entry\" }\n          </div>\n        }\n        {\n          Boolean(collection && collection.length) &&\n          <div>\n            { \"Posts (by date)\" }\n            <ul>\n            {\n              enhanceCollection(collection, {\n                filter: { layout: \"Post\" },\n                sort: \"date\",\n                reverse: true,\n                // limit: 1,\n              })\n              .map((item) => {\n                return (\n                  <li key={ item.__url }>\n                    <a href={ item.__url }>\n                      { item.title }\n                    </a>\n                  </li>\n                )\n              })\n            }\n            </ul>\n\n            { \"Other pages\" }\n            <ul>\n            {\n              enhanceCollection(collection, {\n                filter: ({ layout }) => layout !== \"Post\",\n                sort: \"title\",\n              })\n              .map((item) => {\n                return (\n                  <li key={ item.__url }>\n                    <a href={ item.__url }>\n                      { item.title }\n                    </a>\n                  </li>\n                )\n              })\n            }\n            </ul>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n```\n","raw":"---\ntitle: How to use Collections in Phenomic\nincomplete: true\n---\n\nBy default, Phenomic provides 2 things to help you work with collections:\n\n- it creates a file that contains all page metadata in a unique collection,\n- it provides a helper that helps you filter/sort/limit the collection.\n\n## Collection file\n\nHere is a simple collection example; note that the metadata defines the\nadditional fields `__filename` & `__url`.\n\n```json\n[\n  {\n    \"__filename\": \"index.md\",\n    \"__url\": \"/\",\n    \"title\": \"Awesome Website\"\n  },\n  {\n    \"__filename\": \"blog/index.md\",\n    \"__url\": \"/blog/\",\n    \"title\": \"Awesome blog\"\n  },\n  {\n    \"__filename\": \"blog/halloween.md\",\n    \"__url\": \"/blog/halloween/\",\n    \"title\": \"Awesome Halloween blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-10-31\"\n  },\n  {\n    \"__filename\": \"blog/xmas.md\",\n    \"__url\": \"/blog/xmas/\",\n    \"title\": \"Awesome Christmas blog post\",\n    \"layout\": \"Post\",\n    \"date\": \"2015-12-25\"\n  },\n]\n```\n\nAs you can see, this file contains all pages, indexes and posts.\n\nThe easiest way to get some data is to use the Phenomic helper:\n\n```js\n// es6\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\n// es5\nvar enhanceCollection = require(\"phenomic/lib/enhance-collection\").default\n```\n\nWith it, you can easily filter some pages anywhere in your components:\n\n```js\nenhanceCollection(collection, {\n  filter: { layout: \"Post\" },\n  sort: \"date\",\n  reverse: true,\n  // limit: 1,\n})\n```\n\nSo, where does this collection come from? Here is an example of a component\nthat will display posts, sorted by date, and other pages (that are not a post)\nin a second list. You will see that the collection is retrieved from\n[the context](https://facebook.github.io/react/docs/context.html).\n\n```js\nimport React, { Component, PropTypes } from \"react\"\n\nimport Page from \"Page\"\n\nimport enhanceCollection from \"phenomic/lib/enhance-collection\"\n\nexport default class Collection extends Component {\n\n  static propTypes = {\n    head: PropTypes.object.isRequired,\n    body: PropTypes.string.isRequired,\n  };\n\n  static contextTypes = {\n    collection: PropTypes.array,\n  };\n\n  render() {\n    const {\n      collection,\n    } = this.context\n    return (\n      <div>\n        <Page { ...this.props } />\n        {\n          Boolean(!collection || !collection.length) &&\n          <div>\n            { \"No entry\" }\n          </div>\n        }\n        {\n          Boolean(collection && collection.length) &&\n          <div>\n            { \"Posts (by date)\" }\n            <ul>\n            {\n              enhanceCollection(collection, {\n                filter: { layout: \"Post\" },\n                sort: \"date\",\n                reverse: true,\n                // limit: 1,\n              })\n              .map((item) => {\n                return (\n                  <li key={ item.__url }>\n                    <a href={ item.__url }>\n                      { item.title }\n                    </a>\n                  </li>\n                )\n              })\n            }\n            </ul>\n\n            { \"Other pages\" }\n            <ul>\n            {\n              enhanceCollection(collection, {\n                filter: ({ layout }) => layout !== \"Post\",\n                sort: \"title\",\n              })\n              .map((item) => {\n                return (\n                  <li key={ item.__url }>\n                    <a href={ item.__url }>\n                      { item.title }\n                    </a>\n                  </li>\n                )\n              })\n            }\n            </ul>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n```\n","__filename":"docs/usage/collections.md","__url":"/docs/usage/collections/","__resourceUrl":"/docs/usage/collections/index.html","__dataUrl":"/docs/usage/collections/index.html.4a16dca50be8ef5cf982ef1ab80b84e9.json"}